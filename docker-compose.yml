# ========================================
# üìù Docker Compose para ToDo List Knockout.js
# Configura√ß√£o simplificada para desenvolvimento
# ========================================

version: '3.8'

services:
  # Servi√ßo principal da aplica√ß√£o
  todo-app:
    # Construir a imagem a partir do Dockerfile local
    build: .
    
    # Nome do container
    container_name: knockout-mvvm-todo
    
    # Mapear porta 8080 do host para 8080 do container
    ports:
      - "8080:80"
    
    # Volumes para desenvolvimento (opcional)
    # Descomente as linhas abaixo se quiser fazer altera√ß√µes em tempo real
    # volumes:
    #   - ./index.html:/app/index.html
    #   - ./app.js:/app/app.js
    #   - ./style.css:/app/style.css
    
    # Configura√ß√µes de rede
    networks:
      - todo-network
    
    # Configura√ß√µes de restart
    restart: unless-stopped
    
    # Vari√°veis de ambiente (opcional)
    environment:
      - NODE_ENV=production
    
    # Configura√ß√µes de recursos (opcional)
    deploy:
      resources:
        limits:
          memory: 256M
        reservations:
          memory: 128M

# Rede personalizada para o projeto
networks:
  todo-network:
    driver: bridge
    name: knockout-todo-network

# ========================================
# INSTRU√á√ïES DE USO:
# 
# 1. Iniciar a aplica√ß√£o:
#    docker-compose up
#
# 2. Iniciar em background:
#    docker-compose up -d
#
# 3. Parar a aplica√ß√£o:
#    docker-compose down
#
# 4. Reconstruir ap√≥s mudan√ßas:
#    docker-compose up --build
#
# 5. Ver logs:
#    docker-compose logs -f
#
# 6. Acessar a aplica√ß√£o:
#    http://localhost:8080
# ======================================== 